<div class="container">
    <br/>
    <div class="row">        
        <a ui-sref="home" class="btn-floating"><i class="material-icons">keyboard_arrow_left</i></a>
    </div>

    <div class="row" ng-controller="FormController as formController">        
        <form ng-submit="formController.save()" role="form" class="col s12">
            <div class="row">
                <div class="input-field">
                    <input id="nome" placeholder="Nome" type="text" class="validate" ng-model="formController.listaCompra.nome">
                    <label for="nome" class="active">Nome</label>
                </div>
            </div>
            <div class="row">
                <table class="bordered highlight small-input">
                    <thead>
                        <tr>
                            <th data-field="produto">Produto</th>
                            <th class="center" data-field="quantidade">Quantidade</th>
                            <th class="right" data-field="valor">Valor (R$)</th>
                            <th data-field="acoes"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in formController.listaCompra.listaProdutos">
                            <td>{{item.nome}}</td>
                            <td class="center">
                                <div class="input-field col s12 center">
                                    <input id="quantidade" type="text" ng-model="item.quantidade" ng-change="formController.atualizarValorTotal()" class="validate center-align">
                                </div>
                            </td>
                            <td>                                
                                <div class="input-field col s12 right">
                                    <input id="valor" type="text" ng-model="item.valorAtualizado" ng-change="formController.atualizarValorTotal()" ui-money-mask class="validate right-align">
                                </div>
                            </td>   
                            <td>
                                <a class="btn-floating grey lighten-5" ng-click="formController.removerProduto(item)"><i class="material-icons grey darken-1-text">close</i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row">
                <div class="right">
                    <h4>Total: R$ {{currencyFormat(formController.valorTotalFunction())}}</h4>
                </div>
            </div>

            <div class="row">
                <div class="col s12 m3 card-produto z-depth-2" ng-repeat="item in formController.lista">        
                    <div class="imagem-container">
                        <img class="imagem" src="{{item.urlImagem}}"/>
                    </div>
                    <div class="informacoes">
                        <div>{{item.nome}}</div>
                        <div>R$ {{currencyFormat(item.valor)}}</div>
                    </div>
                    <button class="btn-floating pink" ng-click="formController.adicionarProduto(item)"><i class="material-icons">add</i></button>
                </div>
            </div>

            <div class="fixed-action-btn">
                <button class="btn-floating btn-large pink">
                    <i class="large material-icons">check</i>
                </button>
            </div>
        </form>
    </div>
</div>

